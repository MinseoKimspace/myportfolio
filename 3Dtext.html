<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>3D Text</title>
  <style>
    body { margin: 0; background: #FFF; }
    canvas { display: block; }
  </style>
</head>
<body>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>
  <script>
    const letterPatterns = {
      "H": [
        "1   1",
        "1   1",
        "11111",
        "1   1",
        "1   1"
      ],
      "E": [
        "11111",
        "1   ",
        "1111 ",
        "1   ",
        "11111"
      ],
      "L": [
        "1   ",
        "1   ",
        "1   ",
        "1   ",
        "11111"
      ],
      "O": [
        " 111 ",
        "1   1",
        "1   1",
        "1   1",
        " 111 "
      ],
      "I": [
        "  1  ",
        "  1  ",
        "  1  ",
        "  1  ",
        "  1  "
      ],
      "'": [
        "  1  ",
        "     ",
        "     ",
        "     ",
        "     "
      ],
      "M": [
        "1   1",
        "11 11",
        "1 1 1",
        "1   1",
        "1   1"
      ],
      "N": [
        "1   1",
        "11  1",
        "1 1 1",
        "1  11",
        "1   1"
      ],
      "S": [
        " 111 ",
        "1     ",
        " 111 ",
        "    1",
        " 111 "
      ],
      " ": [
        "     ",
        "     ",
        "     ",
        "     ",
        "     "
      ]
    };

    // box group for each letter
    function createLetterGroup(letter) {
      // make sure the letter is uppercase or space
      const pattern = letterPatterns[letter] || letterPatterns[" "];
      const group = new THREE.Group();
      const boxGeo = new THREE.BoxGeometry(1, 1, 1);
      const boxMat = new THREE.MeshNormalMaterial();

      for (let row = 0; row < 5; row++) {
        const line = pattern[row] || "";
        for (let col = 0; col < 5; col++) {
          if (line[col] === '1') {
            const box = new THREE.Mesh(boxGeo, boxMat);

            const x = col - 2;
            const y = -(row - 2);

            box.position.set(x, y, 0);

            group.add(box);
          }
        }
      }

      return group;
    }

    // make a text group from a string
    function createTextFromBoxes(text) {
      text = text.toUpperCase();

      const textGroup = new THREE.Group();

      let cursorX = 0; // cursor for positioning letters

      for (let i = 0; i < text.length; i++) {
        const letter = text[i];
        const letterGroup = createLetterGroup(letter);

        letterGroup.position.x = cursorX;

        cursorX += 6;

        textGroup.add(letterGroup);
      }

      textGroup.scale.set(0.3, 0.3, 0.3);

      textGroup.position.x = - (cursorX * 0.3) / 2; 

      return textGroup;
    }

    // initialize the scene
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0xFFFFFF);

    const camera = new THREE.PerspectiveCamera(
      75, 
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    camera.position.z = 20;

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const textString = "Hello I'm Minseo";
    const textGroup = createTextFromBoxes(textString);
    scene.add(textGroup);

    // animation loop
    function animate() {
      requestAnimationFrame(animate);

      textGroup.rotation.x -= 0.005;

      renderer.render(scene, camera);
    }
    animate();

    // handle window resize
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
  <header>
    <h1>Portfolio</h1>
    <nav>
      <a href="#about">About Me</a>
      <a href="#projects">Projects</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <section id="about">
    <h2>About Me</h2>
    <p>Hello, I am Minseo Kim as Georgia Tech CS major student.</p>
    <p>Tech skills: Java, C++/C, python, HTML, CSS, Javascript</p>
  </section>

  <section id="projects">
    <h2>Projects</h2>
    <ul>
      <li>
        <strong>Project A</strong><br/>
        - content:<br/>
        - stack: HTML, CSS, JS<br/>
        - GitHub: <a href="https://github.com/username/projectA" target="_blank">link</a>
      </li>
      <li>
        <strong>Project B</strong><br/>
        - content:<br/>
        - stack: React<br/>
        - Demo: <a href="https://projectB-demo.netlify.app" target="_blank">link</a>
      </li>
    </ul>
  </section>

  <section id="contact">
    <h2>Contact</h2>
    <p>Email: <a href="rlaalstj9932@gmail.com">rlaalstj9932@gmail.com</a></p>
    <p>GitHub: <a href="https://github.com/MinseoKimspace" target="_blank">https://github.com/MinseoKimspace</a></p>
    <p>LinkedIn: <a href="https://www.linkedin.com/in/minseo-kim-space/" target="_blank">https://www.linkedin.com/in/minseo-kim-space/</a></p>
  </section>
</body>
</html>